//+СА Французова Мария 2021-08-09 № 19470 (Спр.Номенклатура (группа) : добавление реквизитов (основная) вывод расширение )
//-СА Французова Мария 2021-08-09 № 19470 (Спр.Номенклатура (группа) : добавление реквизитов (основная) вывод расширение )
//+СА Французова Мария 2021-08-09 № 19470 (Спр.Номенклатура (элемент) : добавление реквизитов (основная) вывод расширение )
	Группа_СА_ПараметрПродаж                                = Элементы.Добавить("ПараметрыПродаж", Тип("ГруппаФормы"), Элементы.СтраницаРеквизитыНоменклатуры);
	Группа_СА_ПараметрПродаж.Вид                            = ВидГруппыФормы.ОбычнаяГруппа;                                             
	Группа_СА_ПараметрПродаж.Группировка                    = ГруппировкаПодчиненныхЭлементовФормы.Вертикальная;
	Группа_СА_ПараметрПродаж.ВертикальноеПоложениеВГруппе   = ВертикальноеПоложениеЭлемента.Верх;
	Группа_СА_ПараметрПродаж.ОтображатьЗаголовок            = Истина;
	Группа_СА_ПараметрПродаж.ОтображениеУправления          = ОтображениеУправленияОбычнойГруппы.Картинка;
	Группа_СА_ПараметрПродаж.Поведение                      = ПоведениеОбычнойГруппы.Свертываемая;
	Группа_СА_ПараметрПродаж.Заголовок                      = "Параметры продаж";
	
	
    Поле_СА_АкционныйТовар                                  = Элементы.Добавить("СА_АкционныйТовар", Тип("ПолеФормы"), Элементы.ПараметрыПродаж);
	Поле_СА_АкционныйТовар.Вид                              = ВидПоляФормы.ПолеФлажка;    
	Поле_СА_АкционныйТовар.Заголовок                        = "Акционный товар";
	Поле_СА_АкционныйТовар.ПутьКДанным                      = "Объект.СА_АкционныйТовар";
	
	Поле_СА_МаркированнаяПродукция                          = Элементы.Добавить("СА_МаркированнаяПродукция", Тип("ПолеФормы"), Элементы.ПараметрыПродаж);
	Поле_СА_МаркированнаяПродукция.Вид                      = ВидПоляФормы.ПолеВвода;    
	Поле_СА_МаркированнаяПродукция.Заголовок                = "Маркированная продукция";
	Поле_СА_МаркированнаяПродукция.ПутьКДанным              = "Объект.СА_МаркированнаяПродукция";

//-СА Французова Мария 2021-08-09 № 19470 (Спр.Номенклатура (элемент) : добавление реквизитов (основная) вывод расширение )		



//+СА Французова Мария 2021-08-09 № 19470 (Спр.Номенклатура (группа) : добавление реквизитов (основная) вывод расширение )
	Поле_СА_КратностьПоставки                           = Элементы.Добавить("СА_КратностьПоставки", Тип("ПолеФормы"), Элементы.NU_СтраницаРеквизиты);
	Поле_СА_КратностьПоставки.Вид                       = ВидПоляФормы.ПолеВвода;    
	Поле_СА_КратностьПоставки.Заголовок                 = "Кратность поставки";
	Поле_СА_КратностьПоставки.ПутьКДанным               = "Объект.СА_КратностьПоставки";
	Поле_СА_КратностьПоставки.АвтоОтметкаНезаполненного = Истина;
	
	Поле_СА_Логистика                           = Элементы.Добавить("СА_Логистика", Тип("ПолеФормы"), Элементы.NU_СтраницаРеквизиты);
	Поле_СА_Логистика.Вид                       = ВидПоляФормы.ПолеВвода;    
	Поле_СА_Логистика.Заголовок                 = "Логистика";
	Поле_СА_Логистика.ПутьКДанным               = "Объект.СА_Логистика";
	Поле_СА_Логистика.АвтоОтметкаНезаполненного = Истина;

//-СА Французова Мария 2021-08-09 № 19470 (Спр.Номенклатура (группа) : добавление реквизитов (основная) вывод расширение )		

	//+СА Французова Мария 2021-08-10 № 19510 (Спр.Склады (элемент) : добавление реквизитов (основная) вывод расширение )
	Если Элементы.Найти("СА_НеУчитыватьВМатрице")= Неопределено Тогда
		Поле_СА_НеУчитыватьВМатрице                           = Элементы.Добавить("СА_НеУчитыватьВМатрице", Тип("ПолеФлажкаФормы"), Элементы.ОсновноеЛево);
		Поле_СА_НеУчитыватьВМатрице.Вид                       = ВидПоляФормы.ПолеФлажка;    
		Поле_СА_НеУчитыватьВМатрице.Заголовок                 = "Не учитывать в матрице";
		Поле_СА_НеУчитыватьВМатрице.ПутьКДанным               = "Объект.СА_НеУчитыватьВМатрице";
	КонецЕсли;
	//-СА Французова Мария 2021-08-10 № 19510 (Спр.Номенклатура (элемент) : добавление реквизитов (основная) вывод расширение )		
  
  //+СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )
&НаСервере
Процедура NU_ПриСозданииНаСервереПосле(Отказ, СтандартнаяОбработка)
//+СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )
	Поле_СА_МаркированнаяПродукция                          = Элементы.Добавить("СА_Организация", Тип("ПолеФормы"), ЭтаФорма);
	Поле_СА_МаркированнаяПродукция.Вид                      = ВидПоляФормы.ПолеВвода;    
	Поле_СА_МаркированнаяПродукция.Заголовок                = "Организация";
	Поле_СА_МаркированнаяПродукция.ПутьКДанным              = "Объект.СА_Организация";

//-СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )	
КонецПроцедуры
//-СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )


//+СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )
&НаСервере
Процедура NU_ПриСозданииНаСервереПосле(Отказ, СтандартнаяОбработка)
//+СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )
	Поле_СА_МаркированнаяПродукция                          = Элементы.Добавить("СА_Организация", Тип("ПолеФормы"), ЭтаФорма);
	Поле_СА_МаркированнаяПродукция.Вид                      = ВидПоляФормы.ПолеВвода;    
	Поле_СА_МаркированнаяПродукция.Заголовок                = "Организация";
	Поле_СА_МаркированнаяПродукция.ПутьКДанным              = "Объект.СА_Организация";

//-СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )	
//+СА Французова Мария 2021-08-11 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )
	Поле_СА_МаркированнаяПродукция                          = Элементы.Добавить("СА_НеУчитываемыеПозицииФорматовМагазина", Тип("ПолеФормы"), ЭтаФорма);
	Поле_СА_МаркированнаяПродукция.Вид                      = ВидПоляФормы.ПолеВвода;    
	Поле_СА_МаркированнаяПродукция.Заголовок                = "Не учитываемые позиции Форматов Магазина";
	Поле_СА_МаркированнаяПродукция.ПутьКДанным              = "Объект.СА_НеУчитываемыеПозицииФорматовМагазина";

//-СА Французова Мария 2021-08-11 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )	
	
КонецПроцедуры
//-СА Французова Мария 2021-08-10 № 19470 (Спр.ФорматыМагазинов (Элементы) : добавление реквизитов (основная) вывод расширение )


//+СА Французова Мария 2021-08-11 № 19511 (Спр.Номенклатура (Элементы) : проверка при записи и установка значения реквизита (основная) вывод расширение )
//-СА Французова Мария 2021-08-11 № 19511 (Спр.Номенклатура (Элементы) : проверка при записи и установка значения реквизита (основная) вывод расширение )

//+СА Французова Мария 2021-08-11 № 19511 (Спр.Номенклатура (Элементы) : проверка при записи и установка значения реквизита (основная) вывод расширение )
&НаСервере
Процедура	СА_ПередЗаписьюДействия()
	Если НЕ ЗначениеЗаполнено(ЭтотОбъект.Наименование)  Тогда
		Возврат;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ЭтотОбъект.СА_МаркированнаяПродукция)  Тогда
		Возврат;
	КонецЕсли;
	Запрос = Новый Запрос;
	Запрос.Текст = "
	|ВЫБРАТЬ
	|Спр.Ссылка КАК СА_МаркированнаяПродукция
	|ИЗ Справочник.Номенклатура КАК Спр
	|ГДЕ Спр.Наименование ПОДОБНО &Наименование
	|%1
	|";
	Если ЗначениеЗаполнено(ЭтотОбъект.Ссылка) Тогда
		Запрос.Текст = СтрЗаменить(Запрос.Текст,"%1","И НЕ Спр.Ссылка = &ЭтаСсылка");
		Запрос.УстановитьПараметр("ЭтаСсылка",ЭтотОбъект.Ссылка);
	Иначе
		Запрос.Текст = СтрЗаменить(Запрос.Текст,"%1","");
	КонецЕсли;
	
	Запрос.УстановитьПараметр("Наименование","%"+СокрЛП(ЭтотОбъект.Наименование)+"%");
	Результат = Запрос.Выполнить().Выгрузить();
	Для каждого стр из Результат Цикл
		СК = ОбщегоНазначения.СтрокаТаблицыЗначенийВСтруктуру(стр);
		ЗаполнитьЗначенияСвойств(ЭтотОбъект,СК);
	КонецЦикла;
КонецПроцедуры
//-СА Французова Мария 2021-08-11 № 19511 (Спр.Номенклатура (Элементы) : проверка при записи и установка значения реквизита (основная) вывод расширение )

//+СА Французова Мария 2021-08-25 № 19888 (Добавление в рассылку отчета ТОРГ12 по менеджерам)
