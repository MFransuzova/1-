МЕНЕДЖЕР



#Область АИГ_Доработки
// + АИГ Французова 10.02.2022  (установка нетиповых реквизитов)
Функция АИГ_НеТиповыеРеквизиты() Экспорт
	Структура = Новый Структура;
	МассивГруппы1 = Новый Соответствие;
	МассивГруппы2 = Новый Соответствие;
	МассивГруппы3 = Новый Соответствие;
	МассивГруппы4 = Новый Соответствие;
	МассивГруппы5 = Новый Соответствие;
	МассивГруппы6 = Новый Соответствие;
	МассивГруппы7 = Новый Соответствие;
	МассивГруппы8 = Новый Соответствие;
	МассивГруппы9 = Новый Соответствие;
	МассивГруппы10 = Новый Соответствие;
	МассивГруппы11 = Новый Соответствие;
	
	
	МассивГруппы1.Вставить("КК_ВидДеятельности","Вид деятельности");
	МассивГруппы1.Вставить("КК_Проект","Проект");
	Структура.Вставить("Шапка",МассивГруппы1);
	
	МассивГруппы2.Вставить("КК_ДокументОснование","Документ основание");
	МассивГруппы2.Вставить("КК_МОЛ","МОЛ");
	МассивГруппы2.Вставить("КК_Субконто91","Субконто 91");
	
	Структура.Вставить("Дополнительно",МассивГруппы2);

	МассивГруппы3.Вставить("КК_НомерГТД","Номер ГТД");
	МассивГруппы3.Вставить("КК_СтранаПроисхождения","Страна происхождения");
	МассивГруппы3.Вставить("КК_Оригинал","Оригинал");
	Структура.Вставить("ГТД",МассивГруппы3);
	
	
	МассивГруппы4.Вставить("КК_СтатьяЗатрат","Статья затрат");
	МассивГруппы4.Вставить("КК_Проект","Проект");
	МассивГруппы4.Вставить("КК_ВидДеятельностиСтрока","Вид деятельности");
	МассивГруппы4.Вставить("Склад","Склад");
	Структура.Вставить("Товары",МассивГруппы4);
	
	
	МассивГруппы5.Вставить("Субконто4","Субконто 4");
	Структура.Вставить("Субконто",МассивГруппы5);
	
	МассивГруппы7.Вставить("СубконтоНУ4","СубконтоНУ 4");
	Структура.Вставить("СубконтоНУ",МассивГруппы7);
	
	
	МассивГруппы6.Вставить("КК_НомерРекламации","Номер рекламации");
	МассивГруппы6.Вставить("КК_ДатаПодтверждающегоEMail","Дата Подтверждающего EMail");
	МассивГруппы6.Вставить("КК_НомерЭлемента","Номер элемента");
	МассивГруппы6.Вставить("КК_Проект", "Проект");
	МассивГруппы6.Вставить("СБ_ПодразделениеМСФО","Подразделение МСФО");
	МассивГруппы6.Вставить("КК_ВыставлятьБезМаржи","Выставлять без маржи");
	МассивГруппы6.Вставить("КК_НомерКрана","Номер крана");
	МассивГруппы6.Вставить("КК_ВыставлятьБезМаржи","Выставлять без маржи");
	МассивГруппы6.Вставить("Склад","Склад");
	Структура.Вставить("Услуги",МассивГруппы6);
	
	МассивГруппы8.Вставить("КК_Invoices","Invoices");
	МассивГруппы8.Вставить("КК_ДокументыОснованияТаможенныхПлатежей","Документы Основания Таможенных Платежей");
	Структура.Вставить("ТабличныеЧасти",МассивГруппы8);
	
	МассивГруппы9.Вставить("НомерИнвойсаПроформы","Номер Инвойса Проформы");
	МассивГруппы9.Вставить("Дата","Дата");
	МассивГруппы9.Вставить("СуммаEUR","Сумма EUR");
	МассивГруппы9.Вставить("DueDate","DueDate");
	МассивГруппы9.Вставить("Ответственный","Ответственный");
	МассивГруппы9.Вставить("Комментарий","Комментарий");
	Структура.Вставить("КК_Invoices",МассивГруппы9);
	
	
	МассивГруппы10.Вставить("ДокументОснование","ДокументОснование");
	Структура.Вставить("КК_ДокументыОснованияТаможенныхПлатежей",МассивГруппы10);
	
	Возврат  Структура;
КонецФункции	
// - АИГ Французова 10.02.2022 (установка нетиповых реквизитов)
#КонецОбласти




ПРИ СОЗДАНИИ НА СЕРВЕРЕ

// + АИГ Французова 10.02.2022  (установка нетиповых реквизитов)
#Область АИГ_Доработки

Процедура АИГ_СозданиеЭлементовФормы() Экспорт
	СоставЭлементов = Документы.ПоступлениеТоваровУслуг.АИГ_НеТиповыеРеквизиты();
	Если Элементы.Найти("АИГ_ГруппаШапка_Низ") = Неопределено Тогда
		Группа_АИГ_ГруппаШапка                                = Элементы.Добавить("АИГ_ГруппаШапка_Низ", Тип("ГруппаФормы"), ЭтаФорма.Элементы.ГруппаШапка);
		Группа_АИГ_ГруппаШапка.Вид                            = ВидГруппыФормы.ОбычнаяГруппа;                                             
		Группа_АИГ_ГруппаШапка.Группировка                    = ГруппировкаПодчиненныхЭлементовФормы.ГоризонтальнаяВсегда;
		Группа_АИГ_ГруппаШапка.ГоризонтальноеПоложениеВГруппе = ГоризонтальноеПоложениеЭлемента.Право;
		Группа_АИГ_ГруппаШапка.ВертикальноеПоложениеВГруппе   = ВертикальноеПоложениеЭлемента.Верх;
		Группа_АИГ_ГруппаШапка.ОтображатьЗаголовок            = Ложь;
	КонецЕсли;	
	
	Если Элементы.Найти("АИГ_ГТД") = Неопределено Тогда
		Группа_АИГ_ГруппаШапка                                = Элементы.Добавить("АИГ_ГТД", Тип("ГруппаФормы"), ЭтаФорма.Элементы.АИГ_ГруппаСтраницы);
		Группа_АИГ_ГруппаШапка.Вид                            = ВидГруппыФормы.Страница;                                             
        Группа_АИГ_ГруппаШапка.Заголовок                      = "ГТД";
		Группа_АИГ_ГруппаШапка.ОтображатьЗаголовок            = Истина;
	КонецЕсли;
	
	
	Для каждого эл из СоставЭлементов.Шапка Цикл
		Поле_АИГ_Элемента = Элементы.Добавить(Строка(эл.Ключ), Тип("ПолеФормы"),Элементы["АИГ_ГруппаШапка_Низ"]);
		Поле_АИГ_Элемента.Вид            = ВидПоляФормы.ПолеВвода;
		Поле_АИГ_Элемента.Заголовок      = Строка(эл.Значение);
		Поле_АИГ_Элемента.ПутьКДанным    = "Объект."+Строка(эл.Ключ);
	КонецЦикла;
	
	Для каждого эл из СоставЭлементов.Дополнительно Цикл  
		Поле_АИГ_Элемента = Элементы.Добавить(Строка(эл.Ключ), Тип("ПолеФормы"),Элементы["АИГ_ГруппаДополнительно"]);
		Поле_АИГ_Элемента.Вид            = ВидПоляФормы.ПолеВвода;
		Поле_АИГ_Элемента.Заголовок      = Строка(эл.Значение);
		Поле_АИГ_Элемента.ПутьКДанным    = "Объект."+Строка(эл.Ключ);
	КонецЦикла;
	
	Для каждого эл из СоставЭлементов.ГТД Цикл
		Поле_АИГ_Элемента = Элементы.Добавить(Строка(эл.Ключ), Тип("ПолеФормы"),Элементы["АИГ_ГТД"]);
		Поле_АИГ_Элемента.Вид            = ВидПоляФормы.ПолеВвода;
		Поле_АИГ_Элемента.Заголовок      = Строка(эл.Значение);
		Поле_АИГ_Элемента.ПутьКДанным    = "Объект."+Строка(эл.Ключ);
		
	КонецЦикла;
	Сообщение = Новый СообщениеПользователю;
	Для каждого эл из СоставЭлементов.Товары Цикл
		Попытка
			нЭлемент = Элементы.Добавить("Товары"+СокрЛП(Строка(эл.Ключ)), Тип("ПолеФормы"), Элементы.Товары); 
			нЭлемент.Вид = ВидПоляФормы.ПолеВвода; 
			нЭлемент.Заголовок   = эл.Значение;
			нЭлемент.ПутьКДанным = "Объект.Товары."+СокрЛП(Строка(эл.Ключ));
		Исключение
			Сообщение.Текст = Строка(эл.Ключ);
			Сообщение.Сообщить();
		КонецПопытки;
	КонецЦикла;
	
	Для каждого эл из СоставЭлементов.Услуги Цикл
		Попытка
			нЭлемент = Элементы.Добавить("Услуги"+СокрЛП(Строка(эл.Ключ)), Тип("ПолеФормы"), Элементы.Услуги); 
			нЭлемент.Вид = ВидПоляФормы.ПолеВвода; 
			нЭлемент.Заголовок   = эл.Значение;
			нЭлемент.ПутьКДанным = "Объект.Услуги."+СокрЛП(Строка(эл.Ключ));
		Исключение
			Сообщение.Текст = Строка(эл.Ключ);
			Сообщение.Сообщить();
		КонецПопытки;
	КонецЦикла;
	
	Для каждого эл из СоставЭлементов.ТабличныеЧасти Цикл
		Группа_АИГ_Страница                                   = Элементы.Добавить("Страница"+СокрЛП(Строка(эл.Ключ)), Тип("ГруппаФормы"), ЭтаФорма.Элементы.АИГ_ГруппаСтраницы);
		Группа_АИГ_Страница.Вид                               = ВидГруппыФормы.Страница;                                             
		Группа_АИГ_Страница.Заголовок                         = СокрЛП(Строка(эл.Ключ));
		Группа_АИГ_Страница.ОтображатьЗаголовок               = Истина;
		ГруппаТовары = Элементы.ГруппаТовары;
		ТаблицаДокумента = Элементы.Добавить(СокрЛП(Строка(эл.Ключ)), Тип("ТаблицаФормы"),Группа_АИГ_Страница);
		ТаблицаДокумента.ПутьКДанным = "Объект."+СокрЛП(Строка(эл.Ключ));
	КонецЦикла;
	
	
	Для каждого эл из СоставЭлементов.КК_Invoices Цикл
		Попытка
			Поле_АИГ_Элемента = Элементы.Добавить("Invoices"+СокрЛП(Строка(эл.Ключ)), Тип("ПолеФормы"),Элементы["КК_Invoices"]);
			Поле_АИГ_Элемента.Вид            = ВидПоляФормы.ПолеВвода;
			Поле_АИГ_Элемента.Заголовок      = Строка(эл.Значение);
			Поле_АИГ_Элемента.ПутьКДанным    = "Объект.КК_Invoices"+СокрЛП(Строка(эл.Ключ));
		Исключение
		КонецПопытки;
	КонецЦикла;
	
КонецПроцедуры
// - АИГ Французова 10.02.2022 (установка нетиповых реквизитов)
