&НаСервере
Процедура ЗаполнитьДокументыКопирования()
	Обработка = РеквизитФормыВЗначение("Объект");
	Структура = Новый Структура;
	Обработка.ЗаполнитьДокументыКопированияМодуль(Структура);
	ЗначениеВРеквизитФормы(Обработка,"Объект");
	Если НЕ Структура.Свойство("ДокументыКопирования") Тогда
		Возврат;
	КонецЕсли;
	
	Объект.ДокументыКопирования.Очистить();
	ТЗ = Объект.ДокументыКопирования.Выгрузить(); 
	Результат = Структура.ДокументыКопирования;
	Для каждого стр из Результат Цикл
		н_стр = ТЗ.Добавить();
		ЗаполнитьЗначенияСвойств(н_стр,стр);
	КонецЦикла;
	Объект.ДокументыКопирования.Загрузить(ТЗ);
	
КонецПроцедуры

&НаКлиенте
Процедура ЗаполнитьДокументыПоПериоду(Команда)
	ЗаполнитьДокументыКопирования()
КонецПроцедуры

&НаСервере
Процедура СоздатьКопииНаУстановленныйПериодНаСервере()
	Обработка = РеквизитФормыВЗначение("Объект");
	Структура = Новый Структура;
	Структура.Вставить("ДокументыКопирования",Объект.ДокументыКопирования.Выгрузить());
	Обработка.СоздатьКопииДокументовМодуль(Структура);
	ЗначениеВРеквизитФормы(Обработка,"Объект");
	Если НЕ Структура.Свойство("ДокументыНовые") Тогда
		Возврат;
	КонецЕсли;
	
	Объект.СозданныеДокументы.Очистить();
	ТЗ = Объект.СозданныеДокументы.Выгрузить(); 
	Результат = Структура.ДокументыНовые;
	Для каждого стр из Результат Цикл
		н_стр = ТЗ.Добавить();
		ЗаполнитьЗначенияСвойств(н_стр,стр);
	КонецЦикла;
	Объект.СозданныеДокументы.Загрузить(ТЗ);
КонецПроцедуры

&НаКлиенте
Процедура СоздатьКопииНаУстановленныйПериод(Команда)
	СоздатьКопииНаУстановленныйПериодНаСервере();
КонецПроцедуры
