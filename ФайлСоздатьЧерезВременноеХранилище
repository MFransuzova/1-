Процедура ВыгрузитьДанныеВФайл(Структура) Экспорт
	//МассивБонусов = Новый Массив;
	МассивКонтрагентов = Новый Массив;
	МассивНоменклатуры = Новый Массив;
	МассивОрганизаций = Новый Массив;
	Структура.Вставить("МассивОрганизаций",МассивОрганизаций);
	ЗаполнитьМассивОрганизаций(Структура);
	//______________________________файл формируем __________________
	МассивФайлов = Новый Массив;     
	ИмяФайла = "excUPP.json";
	ПутьВыгружаемыхФайлов = "D:\Users\buhaudit2\Documents\Французова_НЕ_трогать\";
	
	ФайлJSON = ПолучитьИмяВременногоФАйла("json");
	//_______________________________________________________________________
	ЗаписьJSON = Новый ЗаписьJSON;
	ЗаписьJSON.ПроверятьСтруктуру = Ложь;
	ПараметрыЗаписиJSON = Новый ПараметрыЗаписиJSON(,Символы.Таб);
	ЗаписьJSON.ОткрытьФайл(ФайлJSON,,,ПараметрыЗаписиJSON);
	////_________________________ Организации ____________________________________
	ЗаписьJSON.ЗаписатьНачалоОбъекта();
	ЗаписьJSON.ЗаписатьИмяСвойства("Организации");
	ЗаписьJSON.ЗаписатьНачалоМассива();
	Для каждого эл из Структура.МассивОрганизаций Цикл
		ЗаписьJSON.ЗаписатьНачалоОбъекта();
		Для каждого текОрг из эл Цикл
			Значение = текОрг.Значение;
			Если НЕ ТипЗнч(Значение) = Тип("Строка") 
				ИЛИ  НЕ ТипЗнч(Значение) = Тип("Число") 
				ИЛИ НЕ ТипЗнч(Значение) = Тип("Булево") Тогда
				Значение = Строка(Значение);
			КонецЕсли;
			ЗаписьJSON.ЗаписатьИмяСвойства(текОрг.Ключ);
			ЗаписьJSON.ЗаписатьЗначение(Значение);
		КонецЦикла;	
		ЗаписьJSON.ЗаписатьКонецОбъекта();
	КонецЦикла;	  
	ЗаписьJSON.ЗаписатьКонецМассива();

	////_________________________ Клиенты ____________________________________
	ЗаписьJSON.ЗаписатьНачалоОбъекта();
	ЗаписьJSON.ЗаписатьИмяСвойства("Контрагенты");
	ЗаписьJSON.ЗаписатьНачалоМассива();
	Для каждого эл из МассивКонтрагентов Цикл
		ЗаписьJSON.ЗаписатьНачалоОбъекта();
		Для каждого клиент из эл Цикл
			Значение = клиент.Значение;
			Если НЕ ТипЗнч(Значение) = Тип("Строка") 
				ИЛИ  НЕ ТипЗнч(Значение) = Тип("Число") 
				ИЛИ НЕ ТипЗнч(Значение) = Тип("Булево") Тогда
				Значение = Строка(Значение);
			КонецЕсли;
			ЗаписьJSON.ЗаписатьИмяСвойства(клиент.Ключ);
			ЗаписьJSON.ЗаписатьЗначение(Значение);
		КонецЦикла;	
		ЗаписьJSON.ЗаписатьКонецОбъекта();
	КонецЦикла;	  
	ЗаписьJSON.ЗаписатьКонецМассива();
	////_________________________ Бонусы _____________________________________  
	//ЗаписьJSON.ЗаписатьИмяСвойства("Бонусы");
	//ЗаписьJSON.ЗаписатьНачалоМассива();
	//Для каждого эл из  МассивБонусов Цикл
	//	ЗаписьJSON.ЗаписатьНачалоОбъекта();
	//	Для каждого ст из эл Цикл
	//		Значение = ст.Значение;
	//		Если НЕ ТипЗнч(Значение) = Тип("Строка") 
	//			ИЛИ  НЕ ТипЗнч(Значение) = Тип("Число") 
	//			ИЛИ НЕ ТипЗнч(Значение) = Тип("Булево") Тогда
	//			Значение = Строка(Значение);
	//		КонецЕсли;	  
	//		ЗаписьJSON.ЗаписатьИмяСвойства(ст.Ключ);
	//		ЗаписьJSON.ЗаписатьЗначение(Значение);
	//		Если  ст.Ключ = "Начисление" Тогда
	//			ЗаписьJSON.ЗаписатьИмяСвойства("Начисление");
	//			ЗаписьJSON.ЗаписатьНачалоОбъекта();
	//			Для каждого начисление из ст.Значение Цикл
	//				Для каждого элн из начисление Цикл
	//					ЗначениеНачисления = элн.Значение;
	//					Если НЕ ТипЗнч(ЗначениеНачисления) = Тип("Строка") 
	//						ИЛИ  НЕ ТипЗнч(ЗначениеНачисления) = Тип("Число") 
	//						ИЛИ НЕ ТипЗнч(ЗначениеНачисления) = Тип("Булево") Тогда
	//						ЗначениеНачисления = Строка(ЗначениеНачисления);
	//					КонецЕсли;
	//					ЗаписьJSON.ЗаписатьИмяСвойства(элн.Ключ);
	//					ЗаписьJSON.ЗаписатьЗначение(ЗначениеНачисления);
	//				КонецЦикла;
	//			КонецЦикла;  
	//			ЗаписьJSON.ЗаписатьКонецОбъекта();
	//		ИначеЕсли  ст.Ключ = "Списание" Тогда
	//			ЗаписьJSON.ЗаписатьИмяСвойства("Списание");
	//			ЗаписьJSON.ЗаписатьНачалоОбъекта();
	//			Для каждого Списание из ст.Значение Цикл
	//				Для каждого элс из Списание Цикл
	//					ЗначениеСписание = элс.Значение;
	//					Если НЕ ТипЗнч(ЗначениеСписание) = Тип("Строка") 
	//						ИЛИ  НЕ ТипЗнч(ЗначениеСписание) = Тип("Число") 
	//						ИЛИ НЕ ТипЗнч(ЗначениеСписание) = Тип("Булево") Тогда
	//						ЗначениеСписание = Строка(ЗначениеСписание);
	//					КонецЕсли;
	//					ЗаписьJSON.ЗаписатьИмяСвойства(элс.Ключ);
	//					ЗаписьJSON.ЗаписатьЗначение(ЗначениеСписание);
	//				КонецЦикла;
	//			КонецЦикла;
	//			ЗаписьJSON.ЗаписатьКонецОбъекта();
	//		КонецЕсли;	 
	//	КонецЦикла;	  
	//	ЗаписьJSON.ЗаписатьКонецОбъекта();
	//КонецЦикла;	
	ЗаписьJSON.ЗаписатьКонецМассива();
	ЗаписьJSON.ЗаписатьКонецОбъекта();
	ЗаписьJSON.Закрыть();
	
	//СохранитьФайлСервера(ФайлJSON);
	
	ДвоичныеДанные = Новый ДвоичныеДанные(ФайлJSON);
	Идентифтикатор = Новый УникальныйИдентификатор;
	
	АдресХранилища = ПоместитьВоВременноеХранилище(ДвоичныеДанные,Идентифтикатор);
	
	
	Данные = ПолучитьИзВременногоХранилища(АдресХранилища);
	ЛокальныйПуть = ПутьВыгружаемыхФайлов+ИмяФайла;
	
	ДвоичныеДанные.Записать(ЛокальныйПуть);
	
КонецПроцедуры	
