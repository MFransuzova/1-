// + АИГ Французова 11.02.2022 (Доработка)
&НаСервере
Процедура АИГ_ПолучитьТипСубконто(Структура)
	Счет = Структура.Счет;
	НомерСубконто = Структура.Номер;
	ТипВыбора = Счет.ВидыСубконто[НомерСубконто-1].ВидСубконто;
	ТипЗначения = ТипВыбора.ТипЗначения ;
	Структура.Субконто = ТипВыбора.ТипЗначения.ПривестиЗначение();
	ОбъектСубконо = Метаданные.НайтиПоТипу(ТипЗнч(Структура.Субконто));
	ИмяДляФормы = ОбъектСубконо.ПолноеИмя();
	Структура.Вставить("ИмяДляФормы",ИмяДляФормы);
	ЗаполнитьЗначенияСвойств(Объект,Структура);
КонецПроцедуры


// - АИГ Французова 11.02.2022 (Доработка)

// + АИГ Французова 12.01.2022 (Отображение и доступ к данным)
&НаКлиенте
Процедура СчетЗатратПриИзменении(Элемент)
	ОтобразитьБУ();
	Структура = Новый Структура;
	Структура.Вставить("Субконто","Субконто");
	УстановитьВидыСубконтоБУ(Структура);
КонецПроцедуры
// - АИГ Французова 12.01.2022 (Отображение и доступ к данным)

// + АИГ Французова 11.02.2022 (Доработка)
Процедура  УстановитьВидыСубконтоБУ(Структура)
	Субконто = Структура.Субконто;
	НУ = Структура.Свойство("НУ");
	к = 1;
	Пока к <= 4 Цикл
		Если  НУ И к = 4 Тогда
		    Прервать;
		КонецЕсли;
		
		Объект[Субконто+Строка(к)] = "";
		к = к+1;
	КонецЦикла;
КонецПроцедуры
// - АИГ Французова 11.02.2022 (Доработка)
// + АИГ Французова 11.02.2022 (Доработка)
&НаКлиенте
Процедура Субконто2НачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	Структура = Новый Структура;
	Структура.Вставить("Счет",Объект.СчетЗатрат);
	Структура.Вставить("Номер",2);
	Структура.Вставить("Субконто",Объект.Субконто2);
	
	АИГ_ПолучитьТипСубконто(Структура);
	Контекст = Новый Структура;
	
	ОповещениеПродолжения = Новый ОписаниеОповещения(
	"ПолучитьСубконто2", 
	ЭтотОбъект,);
	
	ОткрытьФорму(Строка(Структура.ИмяДляФормы)+".Форма.ФормаВыбора",Структура,ЭтаФорма,,,,ОповещениеПродолжения);        	
КонецПроцедуры

// - АИГ Французова 11.02.2022 (Доработка)
// + АИГ Французова 11.02.2022 (Доработка)
&НаКлиенте
Процедура ПолучитьСубконто2(Результат,Источник) Экспорт
	Если ЗначениеЗаполнено(Результат) Тогда
		Объект.Субконто2 = Результат;
	КонецЕсли;
	ЭтаФорма.ОбновитьОтображениеДанных();	
КонецПроцедуры

// - АИГ Французова 11.02.2022 (Доработка)
